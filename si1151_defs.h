#ifndef SI1151_DEFS_H
#define SI1151_DEFS_H

//commands
#define SI1151_CMD_RESET_CMD_CTR    0x00
#define SI1151_CMD_RESET_SW         0x01
#define SI1151_CMD_SET_I2C_NEW_ADDR 0x02
#define SI1151_CMD_FORCE            0x11
#define SI1151_CMD_PAUSE            0x12
#define SI1151_CMD_START            0x13
#define SI1151_CMD_PARAM_QUERY      0x40
#define SI1151_CMD_PARAM_SET        0x80

//response register error codes
#define SI1151_ERR_NO_ERROR             0x00
#define SI1151_ERR_INVALID_SETTING      0x80
#define SI1151_ERR_PS1_ADC_OVERFLOW     0x88
#define SI1151_ERR_PS2_ADC_OVERFLOW     0x89
#define SI1151_ERR_PS3_ADC_OVERFLOW     0x8A
#define SI1151_ERR_ALS_VIS_ADC_OVERFLOW 0x8C
#define SI1151_ERR_ALS_IR_ADC_OVERFLOW  0x8D
#define SI1151_ERR_AUX_ADC_OVERFLOW     0x8E



//registers
#define SI1151_REG_PART_ID      0x00
#define SI1151_REG_HW_ID        0x01
#define SI1151_REG_REV_ID       0x01
#define SI1151_REG_MFR_ID       0x02

#define SI1151_REG_INFO0        0x03
#define SI1151_REG_INFO1        0x04

#define SI1151_REG_HOST_IN3     0x07
#define SI1151_REG_HOST_IN2     0x08
#define SI1151_REG_HOST_IN1     0x09
#define SI1151_REG_HOST_IN0     0x0A

#define SI1151_REG_COMMAND      0x0B

#define SI1151_REG_IRQ_ENABLE   0x0F

#define SI1151_REG_RESPONSE1    0x10
#define SI1151_REG_RESPONSE0    0x11

#define SI1151_REG_IRQ_STATUS   0x12

#define SI1151_REG_HOST_OUT0    0x13
#define SI1151_REG_HOST_OUT1    0x14
#define SI1151_REG_HOST_OUT2    0x15
#define SI1151_REG_HOST_OUT3    0x16
#define SI1151_REG_HOST_OUT4    0x17
#define SI1151_REG_HOST_OUT5    0x18
#define SI1151_REG_HOST_OUT6    0x19
#define SI1151_REG_HOST_OUT7    0x1A
#define SI1151_REG_HOST_OUT8    0x1B
#define SI1151_REG_HOST_OUT9    0x1C
#define SI1151_REG_HOST_OUT10   0x1D
#define SI1151_REG_HOST_OUT11   0x1E
#define SI1151_REG_HOST_OUT12   0x1F
#define SI1151_REG_HOST_OUT13   0x20
#define SI1151_REG_HOST_OUT14   0x21
#define SI1151_REG_HOST_OUT15   0x22
#define SI1151_REG_HOST_OUT16   0x23
#define SI1151_REG_HOST_OUT17   0x24
#define SI1151_REG_HOST_OUT18   0x25
#define SI1151_REG_HOST_OUT19   0x26
#define SI1151_REG_HOST_OUT20   0x27
#define SI1151_REG_HOST_OUT21   0x28
#define SI1151_REG_HOST_OUT22   0x29
#define SI1151_REG_HOST_OUT23   0x2A
#define SI1151_REG_HOST_OUT24   0x2B
#define SI1151_REG_HOST_OUT25   0x2C



//parameters
#define SI1151_PARAM_I2C_ADDR           0x00
#define SI1151_PARAM_CHAN_LIST          0x01

#define SI1151_PARAM_ADC_CONFIG0        0x02
#define SI1151_PARAM_ADC_SENS0          0x03
#define SI1151_PARAM_ADC_POST0          0x04
#define SI1151_PARAM_MEAS_CONFIG0       0x05
#define SI1151_PARAM_ADC_CONFIG1        0x06
#define SI1151_PARAM_ADC_SENS1          0x07
#define SI1151_PARAM_ADC_POST1          0x08
#define SI1151_PARAM_MEAS_CONFIG1       0x09
#define SI1151_PARAM_ADC_CONFIG2        0x0A
#define SI1151_PARAM_ADC_SENS2          0x0B
#define SI1151_PARAM_ADC_POST2          0x0C
#define SI1151_PARAM_MEAS_CONFIG2       0x0D
#define SI1151_PARAM_ADC_CONFIG3        0x0E
#define SI1151_PARAM_ADC_SENS3          0x0F
#define SI1151_PARAM_ADC_POST3          0x10
#define SI1151_PARAM_MEAS_CONFIG3       0x11
#define SI1151_PARAM_ADC_CONFIG4        0x12
#define SI1151_PARAM_ADC_SENS4          0x13
#define SI1151_PARAM_ADC_POST4          0x14
#define SI1151_PARAM_MEAS_CONFIG4       0x15
#define SI1151_PARAM_ADC_CONFIG5        0x16
#define SI1151_PARAM_ADC_SENS5          0x17
#define SI1151_PARAM_ADC_POST5          0x18
#define SI1151_PARAM_MEAS_CONFIG5       0x19

#define SI1151_PARAM_MEAS_RATE_H        0x1A
#define SI1151_PARAM_MEAS_RATE_L        0x1B
#define SI1151_PARAM_MEAS_COUNT0        0x1C
#define SI1151_PARAM_MEAS_COUNT1        0x1D
#define SI1151_PARAM_MEAS_COUNT2        0x1E
#define SI1151_PARAM_LED1_A             0x1F
#define SI1151_PARAM_LED1_B             0x20
#define SI1151_PARAM_LED3_A             0x21
#define SI1151_PARAM_LED3_B             0x22
#define SI1151_PARAM_LED2_A             0x23
#define SI1151_PARAM_LED2_B             0x24
#define SI1151_PARAM_THRESHOLD0_H       0x25
#define SI1151_PARAM_THRESHOLD0_L       0x26
#define SI1151_PARAM_THRESHOLD1_H       0x27
#define SI1151_PARAM_THRESHOLD1_L       0x28
#define SI1151_PARAM_UPPER_THRESHOLD_H  0x29
#define SI1151_PARAM_UPPER_THRESHOLD_L  0x2A
#define SI1151_PARAM_BURST              0x2B
#define SI1151_PARAM_LOWER_THRESHOLD_H  0x2C
#define SI1151_PARAM_LOWER_THRESHOLD_L  0x2D



//settings
#define SI1151_SET_CHAN_LIST_CHAN0_EN   0x01
#define SI1151_SET_CHAN_LIST_CHAN1_EN   0x02
#define SI1151_SET_CHAN_LIST_CHAN2_EN   0x04
#define SI1151_SET_CHAN_LIST_CHAN3_EN   0x08
#define SI1151_SET_CHAN_LIST_CHAN4_EN   0x10
#define SI1151_SET_CHAN_LIST_CHAN5_EN   0x20

#define SI1151_SET_MEAS_COUNT_ENABLE    0x00
#define SI1151_SET_MEAS_COUNT_DISABLE   0x01

#define SI1151_SET_LED_CURRENT_5MA      0x00
#define SI1151_SET_LED_CURRENT_11MA     0x08
#define SI1151_SET_LED_CURRENT_17MA     0x10
#define SI1151_SET_LED_CURRENT_22MA     0x18
#define SI1151_SET_LED_CURRENT_28MA     0x20
#define SI1151_SET_LED_CURRENT_33MA     0x28
#define SI1151_SET_LED_CURRENT_39MA     0x30
#define SI1151_SET_LED_CURRENT_44MA     0x38
#define SI1151_SET_LED_CURRENT_50MA     0x12
#define SI1151_SET_LED_CURRENT_55MA     0x21
#define SI1151_SET_LED_CURRENT_66MA     0x29
#define SI1151_SET_LED_CURRENT_77MA     0x31
#define SI1151_SET_LED_CURRENT_83MA     0x22
#define SI1151_SET_LED_CURRENT_88MA     0x39
#define SI1151_SET_LED_CURRENT_100MA    0x2A
#define SI1151_SET_LED_CURRENT_111MA    0x23
#define SI1151_SET_LED_CURRENT_116MA    0x32
#define SI1151_SET_LED_CURRENT_133MA    0x3A
#define SI1151_SET_LED_CURRENT_138MA    0x24
#define SI1151_SET_LED_CURRENT_155MA    0x33
#define SI1151_SET_LED_CURRENT_166MA    0x2C
#define SI1151_SET_LED_CURRENT_177MA    0x3B
#define SI1151_SET_LED_CURRENT_194MA    0x34
#define SI1151_SET_LED_CURRENT_199MA    0x2D
#define SI1151_SET_LED_CURRENT_221MA    0x3C
#define SI1151_SET_LED_CURRENT_232MA    0x35
#define SI1151_SET_LED_CURRENT_265MA    0x3D
#define SI1151_SET_LED_CURRENT_271MA    0x36
#define SI1151_SET_LED_CURRENT_310MA    0x3E
#define SI1151_SET_LED_CURRENT_354MA    0x3F

#define SI1151_SET_BURST_EN             0x80

#define SI1151_SET_ADC_CONF_DECIM_RATE_1024   0x00
#define SI1151_SET_ADC_CONF_DECIM_RATE_2048   0x20
#define SI1151_SET_ADC_CONF_DECIM_RATE_4096   0x40
#define SI1151_SET_ADC_CONF_DECIM_RATE_512    0x60

#define SI1151_SET_ADC_CONF_MUX_SMALL_IR      0x00
#define SI1151_SET_ADC_CONF_MUX_MEDIUM_IR     0x01
#define SI1151_SET_ADC_CONF_MUX_LARGE_IR      0x02
#define SI1151_SET_ADC_CONF_MUX_VISIBLE       0x0B
#define SI1151_SET_ADC_CONF_MUX_LARGE_VISIBLE 0x0D

#define SI1151_SET_ADC_SENS_SW_HSIG     0x80
#define SI1151_SET_ADC_SENS_SW_GAIN0    0x00
#define SI1151_SET_ADC_SENS_SW_GAIN1    0x10
#define SI1151_SET_ADC_SENS_SW_GAIN2    0x20
#define SI1151_SET_ADC_SENS_SW_GAIN3    0x30
#define SI1151_SET_ADC_SENS_SW_GAIN4    0x40
#define SI1151_SET_ADC_SENS_SW_GAIN5    0x50
#define SI1151_SET_ADC_SENS_SW_GAIN6    0x60
#define SI1151_SET_ADC_SENS_SW_GAIN7    0x70

#define SI1151_SET_ADC_SENS_HW_GAIN0    0x00
#define SI1151_SET_ADC_SENS_HW_GAIN1    0x01
#define SI1151_SET_ADC_SENS_HW_GAIN2    0x02
#define SI1151_SET_ADC_SENS_HW_GAIN3    0x03
#define SI1151_SET_ADC_SENS_HW_GAIN4    0x04
#define SI1151_SET_ADC_SENS_HW_GAIN5    0x05
#define SI1151_SET_ADC_SENS_HW_GAIN6    0x06
#define SI1151_SET_ADC_SENS_HW_GAIN7    0x07
#define SI1151_SET_ADC_SENS_HW_GAIN8    0x08
#define SI1151_SET_ADC_SENS_HW_GAIN9    0x09
#define SI1151_SET_ADC_SENS_HW_GAIN10   0x0A
#define SI1151_SET_ADC_SENS_HW_GAIN11   0x0B

#define SI1151_SET_ADC_POST_U16BIT_OUT  0x00
#define SI1151_SET_ADC_POST_S24BIT_OUT  0x40

#define SI1151_SET_ADC_POST_POSTSHIFT0  0x00
#define SI1151_SET_ADC_POST_POSTSHIFT1  0x08
#define SI1151_SET_ADC_POST_POSTSHIFT2  0x10
#define SI1151_SET_ADC_POST_POSTSHIFT3  0x18
#define SI1151_SET_ADC_POST_POSTSHIFT4  0x20
#define SI1151_SET_ADC_POST_POSTSHIFT5  0x28
#define SI1151_SET_ADC_POST_POSTSHIFT6  0x30
#define SI1151_SET_ADC_POST_POSTSHIFT7  0x38

#define SI1151_SET_ADC_POST_THRESH_POL0 0x00
#define SI1151_SET_ADC_POST_THRESH_POL1 0x04

#define SI1151_SET_ADC_POST_THRESH_EN0  0x00
#define SI1151_SET_ADC_POST_THRESH_EN1  0x01
#define SI1151_SET_ADC_POST_THRESH_EN2  0x02
#define SI1151_SET_ADC_POST_THRESH_EN3  0x03

#define SI1151_SET_MEAS_CONF_COUNTER_INDEX0       0x00
#define SI1151_SET_MEAS_CONF_COUNTER_INDEX_COUNT0 0x40
#define SI1151_SET_MEAS_CONF_COUNTER_INDEX_COUNT0 0x80
#define SI1151_SET_MEAS_CONF_COUNTER_INDEX_COUNT0 0xC0

#define SI1151_SET_MEAS_CONF_BANK_SEL_LEDX_A      0x00
#define SI1151_SET_MEAS_CONF_BANK_SEL_LEDX_B      0x08

#define SI1151_SET_MEAS_CONF_LED1_EN              0x01
#define SI1151_SET_MEAS_CONF_LED3_EN              0x02
#define SI1151_SET_MEAS_CONF_LED2_EN              0x04

#define SI1151_SET_IRQ_ENABLE_IE0   0x01
#define SI1151_SET_IRQ_ENABLE_IE1   0x02
#define SI1151_SET_IRQ_ENABLE_IE2   0x04
#define SI1151_SET_IRQ_ENABLE_IE3   0x08
#define SI1151_SET_IRQ_ENABLE_IE4   0x10
#define SI1151_SET_IRQ_ENABLE_IE5   0x20


#define SI1151_ADDR 0x53

#endif